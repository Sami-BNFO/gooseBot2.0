//If Dmed make a channel //save .recipient or .recipientId
//anon send content of dm to channel //.lastMessage or //.lastMessageId
//Anon send channel reply to DM //.send back to .recipient then .delete()
//
//url -> return this.isDMBased() ? channelLink(this.id) : channelLink(this.id, this.guildId);
const { SlashCommandBuilder } = require("discord.js");

module.exports = {
	data: new SlashCommandBuilder()
		.setName("ticket") //names the command
		.setDescription("send a bot a message (cool)"), //sets the description (bit under the name)
	// .addStringOption((option) =>
	// 	option
	// 		.setName("message")
	// 		.setDescription(
	// 			"Include the contents of your message"
	// 		)
	// 		.setRequired(true)
	//),

	async execute(interaction, bot) {
		// const message =
		// 	interaction.options.getString("message");
		const user = bot.users.cache.get(
			interaction.member.user.id
		);
		user
			//.send(`Hello, you sent "**${message}**"`)
			.send(
				`Hello, please respond to this message with the contents of your ticket!`
			);

		interaction.reply({
			content: "Sent!",
			ephemeral: "true",
		});
	},
};
// 	async execute(message) {
// 		if (message.channel.type == "DM") {
// 			console.log(`${message.content}`);
// 		}
// 		if (message.content === "<@1051190362087104593>") {
// 			message.reply("honk");
// 		}
// 	},
// };

//on DM -> Send message to #channel
//figure out
//event or command
//figure "amayc"

//-------------------------------
//set global is running command to false
//set is running true when /ticket
//eventHandler.js if (message.guild == null && isrunning == true) {
//once user responds to DM set is running to false
